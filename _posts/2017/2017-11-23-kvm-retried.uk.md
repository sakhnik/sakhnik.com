---
layout: post
title:  "Нова спроба KVM віртуалізації робочого столу"
ref:    2017-11-23-kvm-retried
lang:   uk
date:   2017-11-23 07:44:50 +02:00
tags:   virt
---

Рік тому я зробив висновок, що [VirtualBox]({% post_url
/2017/2017-01-22-desktop-virtualization %}) — це найкращий вибір для
віртуалізації робочої станції.
Тоді я встановлював Windows 7 і не зміг добитися жвавого відображення терміналу
[MSYS2]({% post_url /2016/2016-11-18-win7-msys2 %}). А тепер мені знадобилося
поставити Windows 10, тож я скористався нагодою, щоб ще раз спробувати
[KVM](https://www.linux-kvm.org) у пошуку кращої продуктивності. Цього разу я
розпочав з [libvirt](https://libvirt.org/) та
[virt-manager](https://virt-manager.org/).

Навдивовижу, встановлення пройшло гладенько, і все працювало фантастично з усіма
паравіртуалізованими драйверами [virtio](https://wiki.libvirt.org/page/Virtio).
Навіть емулятор терміналу msys2 малював так застосунки TUI як [midnight
commander](https://midnight-commander.org/) добре. Тож відчувалося з усіх боків,
що я продовжу працювати з KVM аж доки з’ясувалося, що наші тести [SMPTE
2022-6](https://en.wikipedia.org/wiki/SMPTE_2022) не зовсім працюють. Для них
потрібно надсилати і приймати 200 тисяч пакетів за секунду (через localhost),
але система не справлялася.

Дивовижно, як тільки я перетворив образи для VirtualBox (за 5 хвилин, до речі),
тести почали проходити без будь-яких інших змін. Отже, я продовжу його
використовувати наступний рік.

Висновки:

* KVM покращав і я з ним міг би тепер працювати
* VirtualBox все ще кращий вибір для віртуалізації робочого столу
* Я покращив продуктивність системи, як виділив місце для диска C: на SSD (64 Гб
  має вистачити)
* Не довіряти чуткам, а самостійно перевіряти для своїх сценаріїв.
